import{a as e}from"./paper.dd68bea9.js";import{g as t}from"./question.f2152326.js";import{s as a}from"./index.eb4e575a.js";import{d as s,p as i,g as l,r as n,u as o,o as d,b as p,e as r,t as u,v as c,h as g,F as h,y as f,x as m,w as y}from"./vendor.3e4d1919.js";var I=s({data(){return{checkList:["选中且禁用","复选框 A"],user:{},page:{currentPage:1,pageSize:10,totalPage:0,totalCount:65,params:{paperId:{}},list:[],sortColumn:"question_sort",sortMethod:"asc"},examId:{},paperId:{},paperVo:{paperName:"",paperId:"",ruleId:"",ruleVo:{}},ruleList:[],ruleVo:{},questionVoList:[{questionVo:{paperId:this.$route.params.paperId,examId:this.$route.params.examId,userId:1,questionId:"",questiontype:"",questionScore:"",optionList:{}}}],questionReplyList:[{questionReply:{questionId:"",paperId:this.$route.params.paperId,examId:this.$route.params.examId,userId:a.getters.userId,questionType:"",userOptions:[],questionScore:"",actualScore:"",isRight:"",useTime:""}}],questionTypeList:[{dictLabel:"其它",dictValue:0},{dictLabel:"单选题",dictValue:1},{dictLabel:"多选题",dictValue:2},{dictLabel:"填空题",dictValue:3},{dictLabel:"判断题",dictValue:4},{dictLabel:"简答题",dictValue:5}],questionTagList:[{dictLabel:"其它",dictValue:0},{dictLabel:"基础题",dictValue:1},{dictLabel:"提升题",dictValue:2},{dictLabel:"开放题",dictValue:3},{dictLabel:"主观题",dictValue:4},{dictLabel:"客观题",dictValue:5}],loadingMore:!1,noMore:!1,loading:!0,questionLoading:!0,isSelectQuestionIdList:[],isSelectRate:0}},created(){this.examId=this.$route.params.examId,this.paperId=this.$route.params.paperId,this.user=a.getters.user,this.getPaperBaseInfoById(),this.getQuestionAndOptionsNotWithAnswersByPageForExam()},methods:{getPaperBaseInfoById(){e(this.paperId).then((e=>{this.paperVo=e.data,this.loading=!1}))},getQuestionAndOptionsNotWithAnswersByPageForExam(){this.page.params.paperId=this.paperId,t(this.page).then((e=>{console.log(e),this.page=e.data,this.questionVoList=e.data.list,this.questionLoading=!1}))},loadMore(){this.page.currentPage+=1,this.loadingMore=!0,t(this.page).then((e=>{e.data.list.length<this.page.pageSize&&(this.$message.warning("当前是最后一页了"),this.noMore=!0);const t=e.data.list;this.loadingMore=!1,t.forEach((e=>{this.questionVoList.push(e)})),this.loadingMore=!1}))},handleSelectOption(e,t){console.log(e,t),this.isSelectQuestionIdList.push(t),console.log(this.isSelectQuestionIdList.length),console.log(this.page.totalCount),this.isSelectRate=Math.ceil(this.isSelectQuestionIdList.length/65*100)}}});const _=y();i("data-v-592168d6");const x={class:"progress-affix"},L=r("span",{class:"percentage-label"},"完成进度",-1),V=r("br",null,null,-1),q={class:"percentage-value"},b=r("span",null,"试卷信息",-1),S=r("span",null,"试卷标题：",-1),k=r("span",null,"出卷人：",-1),M=r("span",null,"考试编号：",-1),w=r("span",null,"试卷编号：",-1),T=r("span",null,"用户信息",-1),z=r("span",null,"用户名",-1),v=r("span",null,"试题信息",-1),C=g("交卷"),P=g("其它"),$=g("单选题"),B=g("多选题"),Q=g("填空题"),R=g("判断题"),j=g("简答题"),A={style:{color:"#909399"}},N=g("到底了"),O=g("加载更多"),E=g("交卷");l();const F=_(((e,t,a,s,i,l)=>{const y=n("el-progress"),I=n("el-col"),F=n("el-row"),U=n("el-card"),W=n("el-button"),D=n("el-tag"),G=n("el-checkbox"),H=n("el-form"),J=o("loading");return d(),p("div",null,[r("div",x,[r(y,{type:"circle",percentage:e.isSelectRate},{default:_((({percentage:e})=>[L,V,r("span",q,u(e)+"%",1)])),_:1},8,["percentage"])]),c(r(H,{ref:"paperVo",model:e.paperVo,"label-position":"left","label-width":"80px"},{default:_((()=>[r(U,{class:"box-card"},{header:_((()=>[b])),default:_((()=>[r(F,{gutter:20},{default:_((()=>[r(I,{span:10},{default:_((()=>[S,g(" "+u(e.paperVo.paperName),1)])),_:1}),r(I,{span:10},{default:_((()=>[k,g(" "+u(e.paperVo.creatorName),1)])),_:1})])),_:1}),r(F,{gutter:20},{default:_((()=>[r(I,{span:10},{default:_((()=>[M,g(" "+u(e.examId),1)])),_:1}),r(I,{span:10},{default:_((()=>[w,g(" "+u(e.paperId),1)])),_:1})])),_:1})])),_:1}),r(U,{class:"box-card"},{header:_((()=>[T])),default:_((()=>[r(F,{gutter:20},{default:_((()=>[r(I,{span:10},{default:_((()=>[z,g(" "+u(e.user.username),1)])),_:1})])),_:1})])),_:1}),r(U,null,{header:_((()=>[v,r(W,{style:{float:"right",padding:"3px 10px"},icon:"el-icon-s-promotion",type:"text"},{default:_((()=>[C])),_:1})])),default:_((()=>[(d(!0),p(h,null,f(e.questionVoList,((t,a)=>(d(),p(U,{key:a},{default:_((()=>[r(F,{gutter:20},{default:_((()=>[r(I,{span:1.5},{default:_((()=>[0===t.questionType?(d(),p(D,{key:0,style:{padding:"0 10px"},size:"mini"},{default:_((()=>[P])),_:1})):1===t.questionType?(d(),p(D,{key:1,style:{padding:"0 10px"},size:"mini"},{default:_((()=>[$])),_:1})):2===t.questionType?(d(),p(D,{key:2,style:{padding:"0 10px"},size:"mini",type:"danger"},{default:_((()=>[B])),_:1})):3===t.questionType?(d(),p(D,{key:3,style:{padding:"0 10px"},size:"mini",type:"warning"},{default:_((()=>[Q])),_:1})):4===t.questionType?(d(),p(D,{key:4,style:{padding:"0 10px"},size:"mini",type:"success"},{default:_((()=>[R])),_:1})):5===t.questionType?(d(),p(D,{key:5,style:{padding:"0 10px"},size:"mini",type:"info"},{default:_((()=>[j])),_:1})):m("",!0)])),_:2},1032,["span"]),r(I,{span:1.5},{default:_((()=>[r(D,{type:"danger",effect:"plain",size:"mini"},{default:_((()=>[g(u(t.questionScore)+" 分",1)])),_:2},1024)])),_:2},1032,["span"])])),_:2},1024),r(F,{gutter:20},{default:_((()=>[r(I,{span:24},{default:_((()=>[r("span",A,"第"+u(a+1)+"题",1),r("span",null,u(t.questionContent),1)])),_:2},1024)])),_:2},1024),(d(!0),p(h,null,f(t.optionList,(a=>(d(),p(F,{key:a.optionId,gutter:20},{default:_((()=>[r(I,{span:.5},{default:_((()=>[r(G,{modelValue:a.isSelect,"onUpdate:modelValue":e=>a.isSelect=e,"true-label":1,"false-label":0,checked:1===a.isSelect,onChange:s=>e.handleSelectOption(t.questionId,a.optionId)},null,8,["modelValue","onUpdate:modelValue","checked","onChange"])])),_:2},1032,["span"]),r(I,{span:23.5},{default:_((()=>[r("span",{class:1===a.isSelect?"right-answer-content":"default-answer-content"},u(a.optionContent),3)])),_:2},1032,["span"])])),_:2},1024)))),128))])),_:2},1024)))),128)),r(F,{type:"flex",class:"row-bg",justify:"center"},{default:_((()=>[r(I,{style:{"text-align":"center","margin-top":"10px"}},{default:_((()=>[e.noMore?(d(),p(W,{key:0,class:"filter-item",type:"text",icon:"el-icon-error"},{default:_((()=>[N])),_:1})):(d(),p(W,{key:1,class:"filter-item",type:"text",icon:"el-icon-bottom",loading:e.loadingMore,onClick:t[1]||(t[1]=t=>e.loadMore())},{default:_((()=>[O])),_:1},8,["loading"])),r(W,{icon:"el-icon-s-promotion",type:"text"},{default:_((()=>[E])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),[[J,e.loading]])])}));I.render=F,I.__scopeId="data-v-592168d6";export default I;
