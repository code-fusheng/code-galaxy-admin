import{b as e,u as l}from"./question.f2152326.js";import{s as t}from"./index.eb4e575a.js";import{d as a,r as o,u as i,o as d,b as u,v as n,e as s,i as r,F as p,y as c,h as V}from"./vendor.3e4d1919.js";var f=a({data:()=>({questionId:{},repositoryList:[],questionVo:{optionList:[]},questionTypeList:[{dictLabel:"其它",dictValue:0},{dictLabel:"单选题",dictValue:1},{dictLabel:"多选题",dictValue:2},{dictLabel:"填空题",dictValue:3},{dictLabel:"判断题",dictValue:4},{dictLabel:"简答题",dictValue:5}],questionTagList:[{dictLabel:"其它",dictValue:0},{dictLabel:"基础题",dictValue:1},{dictLabel:"提升题",dictValue:2},{dictLabel:"开放题",dictValue:3},{dictLabel:"主观题",dictValue:4},{dictLabel:"客观题",dictValue:5}],ids:[],single:!0,multiple:!0,loading:!0}),mounted(){this.repositoryList=t.getters.repositoryList},created(){this.getQuestionWithOptionsAndAnswersById()},methods:{getQuestionWithOptionsAndAnswersById(){this.questionId=this.$route.params.questionId,e(this.questionId).then((e=>{this.questionVo=e.data,this.loading=!1}))},saveQuestionVo(){l(this.questionVo).then((e=>{this.$emit("closeUpdateDrawer"),this.$emit("getQuestionByPage")}))},handleAdd(){this.questionVo.optionList.push({isRight:0,optionContent:"",analysis:""})},removeItem(e){this.questionVo.optionList.splice(e,1)},goBack(){this.$router.go(-1)}}});const m=s("span",null,"试题信息",-1),b=V("更新试题"),h=V("返回列表"),y=V("添加试题图片"),g=V("添加试题视频"),q=V("添加试题代码"),_=V("启用"),L=V("弃用"),x=s("span",null,"选项信息",-1),k=V(" 更新选项 "),I=V(" 添加选项 "),w=V("选项");f.render=function(e,l,t,a,V,f){const v=o("el-button"),U=o("el-option"),C=o("el-select"),T=o("el-form-item"),A=o("el-col"),B=o("el-input"),$=o("el-radio"),Q=o("el-radio-group"),R=o("el-row"),j=o("el-card"),E=o("el-checkbox"),O=o("el-table-column"),W=o("el-table"),z=o("el-form"),D=i("loading");return d(),u("div",null,[n(s(z,{ref:"form",model:e.questionVo,"label-position":"left","label-width":"80px"},{default:r((()=>[s(j,{class:"box-card"},{header:r((()=>[m,s(v,{style:{float:"right",padding:"3px 0","margin-left":"20px"},icon:"el-icon-refresh",type:"text"},{default:r((()=>[b])),_:1}),s(v,{onClick:e.goBack,type:"text",style:{float:"right",padding:"3px 0"},icon:"el-icon-back"},{default:r((()=>[h])),_:1},8,["onClick"])])),default:r((()=>[s(R,{gutter:20},{default:r((()=>[s(A,{span:12},{default:r((()=>[s(T,{label:"试题类型",prop:"questionTypeId"},{default:r((()=>[s(C,{modelValue:e.questionVo.questionType,"onUpdate:modelValue":l[1]||(l[1]=l=>e.questionVo.questionType=l),placeholder:"请选择试题类型",clearable:"",filterable:""},{default:r((()=>[(d(!0),u(p,null,c(e.questionTypeList,(e=>(d(),u(U,{key:e.dictValue,label:e.dictLabel,value:e.dictValue},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),s(A,{span:12},{default:r((()=>[s(T,{label:"试题标签",prop:"questionTagId"},{default:r((()=>[s(C,{modelValue:e.questionVo.questionTag,"onUpdate:modelValue":l[2]||(l[2]=l=>e.questionVo.questionTag=l),placeholder:"请选择试题标签",clearable:"",filterable:""},{default:r((()=>[(d(!0),u(p,null,c(e.questionTagList,(e=>(d(),u(U,{key:e.dictValue,label:e.dictLabel,value:e.dictValue},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),s(A,{span:12},{default:r((()=>[s(T,{label:"题库归属",prop:"repositoryId"},{default:r((()=>[s(C,{disabled:"",modelValue:e.questionVo.repositoryId,"onUpdate:modelValue":l[3]||(l[3]=l=>e.questionVo.repositoryId=l),placeholder:"请选择所属题库",clearable:"",filterable:""},{default:r((()=>[(d(!0),u(p,null,c(e.repositoryList,(e=>(d(),u(U,{key:e.repositoryId,label:e.repositoryName,value:e.repositoryId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),s(A,{span:12},{default:r((()=>[s(T,{label:"试题备注"},{default:r((()=>[s(B,{modelValue:e.questionVo.remark,"onUpdate:modelValue":l[4]||(l[4]=l=>e.questionVo.remark=l),placeholder:"请输入题库备注"},null,8,["modelValue"])])),_:1})])),_:1}),s(A,{span:24},{default:r((()=>[s(T,{label:"试题内容",prop:"questionContent"},{default:r((()=>[s(B,{modelValue:e.questionVo.questionContent,"onUpdate:modelValue":l[5]||(l[5]=l=>e.questionVo.questionContent=l),type:"textarea",placeholder:"请输入题库内容"},null,8,["modelValue"])])),_:1})])),_:1}),s(A,{span:14},{default:r((()=>[s(T,{label:"内容扩展"},{default:r((()=>[s(v,null,{default:r((()=>[y])),_:1}),s(v,null,{default:r((()=>[g])),_:1}),s(v,null,{default:r((()=>[q])),_:1})])),_:1})])),_:1}),s(A,{span:10},{default:r((()=>[s(T,{label:"试题状态",prop:"isEnabled"},{default:r((()=>[s(Q,{modelValue:e.questionVo.isEnabled,"onUpdate:modelValue":l[6]||(l[6]=l=>e.questionVo.isEnabled=l)},{default:r((()=>[s($,{label:1},{default:r((()=>[_])),_:1}),s($,{label:0},{default:r((()=>[L])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),s(j,{class:"box-card"},{header:r((()=>[x,s(v,{style:{float:"right",padding:"3px 0","margin-left":"20px"},icon:"el-icon-refresh",type:"text"},{default:r((()=>[k])),_:1}),s(v,{style:{float:"right",padding:"3px 0"},type:"text",icon:"el-icon-plus",onClick:e.handleAdd},{default:r((()=>[I])),_:1},8,["onClick"])])),default:r((()=>[s(W,{data:e.questionVo.optionList,border:!0,style:{width:"100%"}},{default:r((()=>[s(O,{label:"是否答案",width:"120",align:"center"},{default:r((({row:e})=>[s(E,{modelValue:e.isRight,"onUpdate:modelValue":l=>e.isRight=l,"true-label":"1","false-label":"0",checked:1===e.isRight},{default:r((()=>[w])),_:2},1032,["modelValue","onUpdate:modelValue","checked"])])),_:1}),s(O,{label:"选项内容"},{default:r((({row:e})=>[s(B,{modelValue:e.optionContent,"onUpdate:modelValue":l=>e.optionContent=l,type:"textarea",rows:1},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(O,{label:"选项解析"},{default:r((({row:e})=>[s(B,{modelValue:e.analysis,"onUpdate:modelValue":l=>e.analysis=l,type:"textarea",rows:1},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(O,{label:"操作",align:"center",width:"100px"},{default:r((({row:l})=>[s(v,{type:"danger",icon:"el-icon-delete",size:"mini",circle:"",onClick:t=>e.removeItem(l.$index)},null,8,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])),_:1},8,["model"]),[[D,e.loading]])])};export default f;
