import{a as e}from"./paper.dd68bea9.js";import{s as l,h as a}from"./index.eb4e575a.js";import{c as t}from"./question.f2152326.js";import{d as o,p as d,g as u,r as i,u as n,o as r,b as p,v as s,e as c,F as V,y as f,x as m,t as g,w as h,h as _}from"./vendor.3e4d1919.js";var b=o({data:()=>({page:{currentPage:1,pageSize:10,totalPage:0,totalCount:0,params:{paperId:""},list:[],sortColumn:"question_sort",sortMethod:"asc"},paperId:{},paperVo:{paperId:"",ruleId:"",ruleVo:{}},ruleList:[],ruleVo:{},questionVoList:[{questionId:"",questionContent:"",optionList:[]}],questionTypeList:[{dictLabel:"其它",dictValue:0},{dictLabel:"单选题",dictValue:1},{dictLabel:"多选题",dictValue:2},{dictLabel:"填空题",dictValue:3},{dictLabel:"判断题",dictValue:4},{dictLabel:"简答题",dictValue:5}],questionTagList:[{dictLabel:"其它",dictValue:0},{dictLabel:"基础题",dictValue:1},{dictLabel:"提升题",dictValue:2},{dictLabel:"开放题",dictValue:3},{dictLabel:"主观题",dictValue:4},{dictLabel:"客观题",dictValue:5}],loadingMore:!1,noMore:!1,loading:!0,questionLoading:!0}),mounted(){this.ruleList=l.getters.ruleList},created(){this.paperId=this.$route.params.paperId,this.getPaperBaseInfoById()},methods:{getPaperBaseInfoById(){e(this.paperId).then((e=>{this.paperVo=e.data,this.loading=!1,void 0===this.paperVo.ruleId&&null===this.paperVo.ruleId||(this.getRuleById(),this.getQuestionAndOptionsWithAnswersByPageForPaperId())}))},getRuleById(){a(this.paperVo.ruleId).then((e=>{this.ruleVo=e.data,console.log(this.ruleVo)}))},getQuestionAndOptionsWithAnswersByPageForPaperId(){this.page.params.paperId=this.paperVo.paperId,t(this.page).then((e=>{this.page=e.data,this.questionVoList=this.page.list,this.questionLoading=!1}))},loadMore(){this.page.currentPage+=1,this.loadingMore=!0,t(this.page).then((e=>{e.data.list.length<this.page.pageSize&&(this.$message.warning("当前是最后一页了"),this.noMore=!0);const l=e.data.list;this.loadingMore=!1,l.forEach((e=>{this.questionVoList.push(e)})),this.loadingMore=!1}))}}});const y=h();d("data-v-5778097b");const x=c("span",null,"试卷信息",-1),I=_("更新试卷"),L=c("span",null,"规则信息",-1),q=_("更新规则"),U=_("启用"),k=_("弃用"),S=c("span",null,"试题信息",-1),C=_("更新试题"),v=_("生成试题"),w=_("自定义试题"),z=_("显示/隐藏答案"),M={style:{clear:"both",float:"none",width:"100%"}},T=_("其它"),j=_("单选题"),P=_("多选题"),B=_("填空题"),R=_("判断题"),N=_("简答题"),A={style:{float:"right","margin-right":"20px"}},E={style:{color:"#909399"}},F=_(" 到底了 "),O=_(" 加载更多 "),Q=_(" 添加自定义试题 "),W=_(" 添加题库试题 "),$=_(" 返回 ");u();const D=y(((e,l,a,t,o,d)=>{const u=i("el-button"),h=i("el-input"),_=i("el-form-item"),b=i("el-col"),D=i("el-row"),G=i("el-card"),H=i("el-option"),J=i("el-select"),K=i("el-radio"),X=i("el-radio-group"),Y=i("el-input-number"),Z=i("el-tag"),ee=i("el-checkbox"),le=i("el-form"),ae=n("loading");return r(),p("div",null,[s(c(le,{ref:"paperVo",model:e.paperVo,"label-position":"left","label-width":"80px"},{default:y((()=>[c(G,{class:"box-card"},{header:y((()=>[x,c(u,{style:{float:"right",padding:"3px 0"},icon:"el-icon-refresh",type:"text"},{default:y((()=>[I])),_:1})])),default:y((()=>[c(D,{gutter:20},{default:y((()=>[c(b,{span:8},{default:y((()=>[c(_,{label:"试卷标题"},{default:y((()=>[c(h,{modelValue:e.paperVo.paperName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.paperVo.paperName=l),placeholder:"请输入试卷标题"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:8},{default:y((()=>[c(_,{label:"试卷编号"},{default:y((()=>[c(h,{modelValue:e.paperVo.paperId,"onUpdate:modelValue":l[2]||(l[2]=l=>e.paperVo.paperId=l),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:8},{default:y((()=>[c(_,{label:"出卷人"},{default:y((()=>[c(h,{modelValue:e.paperVo.creatorName,"onUpdate:modelValue":l[3]||(l[3]=l=>e.paperVo.creatorName=l),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),c(G,{class:"box-card"},{header:y((()=>[L,c(u,{style:{float:"right",padding:"3px 0"},icon:"el-icon-refresh",type:"text"},{default:y((()=>[q])),_:1})])),default:y((()=>[c(D,{gutter:20},{default:y((()=>[c(b,{span:12},{default:y((()=>[c(_,{label:"试卷规则",prop:"paperRuleId"},{default:y((()=>[c(J,{modelValue:e.ruleVo.ruleId,"onUpdate:modelValue":l[4]||(l[4]=l=>e.ruleVo.ruleId=l),placeholder:"请选择试卷规则",clearable:"",filterable:""},{default:y((()=>[(r(!0),p(V,null,f(e.ruleList,(e=>(r(),p(H,{key:e.ruleId,label:e.ruleName,value:e.ruleId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(b,{span:12},{default:y((()=>[c(_,{label:"规则题库",prop:"repositoryId"},{default:y((()=>[c(J,{placeholder:"请选择所属题库",clearable:"",filterable:""})])),_:1})])),_:1})])),_:1}),c(D,{gutter:20},{default:y((()=>[c(b,{span:6},{default:y((()=>[c(_,{label:"试卷总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.totalScore,"onUpdate:modelValue":l[5]||(l[5]=l=>e.ruleVo.totalScore=l),placeholder:"请输入试卷总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"试卷时长"},{default:y((()=>[c(h,{modelValue:e.ruleVo.totalTime,"onUpdate:modelValue":l[6]||(l[6]=l=>e.ruleVo.totalTime=l),placeholder:"请输入试卷时长"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"合格分数"},{default:y((()=>[c(h,{modelValue:e.ruleVo.eligibilityScore,"onUpdate:modelValue":l[7]||(l[7]=l=>e.ruleVo.eligibilityScore=l),placeholder:"请输入试卷总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"规则状态",prop:"isEnabled"},{default:y((()=>[c(X,{modelValue:e.ruleVo.isEnabled,"onUpdate:modelValue":l[8]||(l[8]=l=>e.ruleVo.isEnabled=l)},{default:y((()=>[c(K,{label:1},{default:y((()=>[U])),_:1}),c(K,{label:0},{default:y((()=>[k])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"单选题数"},{default:y((()=>[c(Y,{modelValue:e.ruleVo.singleCount,"onUpdate:modelValue":l[9]||(l[9]=l=>e.ruleVo.singleCount=l),min:0,max:9999,placeholder:"请输入单选题数"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"单选总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.singleScore,"onUpdate:modelValue":l[10]||(l[10]=l=>e.ruleVo.singleScore=l),placeholder:"请输入试卷时长"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"多选题数"},{default:y((()=>[c(Y,{modelValue:e.ruleVo.multipleCount,"onUpdate:modelValue":l[11]||(l[11]=l=>e.ruleVo.multipleCount=l),min:0,max:9999,placeholder:"请输入多选题数"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"多选总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.multipleScore,"onUpdate:modelValue":l[12]||(l[12]=l=>e.ruleVo.multipleScore=l),placeholder:"请输入多选总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"填空题数"},{default:y((()=>[c(Y,{modelValue:e.ruleVo.fillCount,"onUpdate:modelValue":l[13]||(l[13]=l=>e.ruleVo.fillCount=l),min:0,max:9999,placeholder:"请输入填空题数"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"填空总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.fillScore,"onUpdate:modelValue":l[14]||(l[14]=l=>e.ruleVo.fillScore=l),placeholder:"请输入填空总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"判断题数"},{default:y((()=>[c(Y,{modelValue:e.ruleVo.judgeCount,"onUpdate:modelValue":l[15]||(l[15]=l=>e.ruleVo.judgeCount=l),min:0,max:9999,placeholder:"请输入判断题数"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"判断总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.judgeScore,"onUpdate:modelValue":l[16]||(l[16]=l=>e.ruleVo.judgeScore=l),placeholder:"请输入判断总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"简答题数"},{default:y((()=>[c(Y,{modelValue:e.ruleVo.shortCount,"onUpdate:modelValue":l[17]||(l[17]=l=>e.ruleVo.shortCount=l),min:0,max:9999,placeholder:"请输入简答题数"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:6},{default:y((()=>[c(_,{label:"简答总分"},{default:y((()=>[c(h,{modelValue:e.ruleVo.shortScore,"onUpdate:modelValue":l[18]||(l[18]=l=>e.ruleVo.shortScore=l),placeholder:"请输入简答总分"},null,8,["modelValue"])])),_:1})])),_:1}),c(b,{span:12},{default:y((()=>[c(_,{label:"规则备注"},{default:y((()=>[c(h,{modelValue:e.ruleVo.remark,"onUpdate:modelValue":l[19]||(l[19]=l=>e.ruleVo.remark=l),placeholder:"请输入备注"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),s(c(G,{class:"box-card"},{header:y((()=>[S,c(u,{style:{float:"right",padding:"3px 10px"},icon:"el-icon-refresh",type:"text"},{default:y((()=>[C])),_:1}),c(u,{style:{float:"right",padding:"3px 10px"},icon:"el-icon-video-play",type:"text"},{default:y((()=>[v])),_:1}),c(u,{style:{float:"right",padding:"3px 10px"},icon:"el-icon-edit",type:"text"},{default:y((()=>[w])),_:1}),c(u,{style:{float:"right",padding:"3px 10px"},icon:"el-icon-view",type:"text"},{default:y((()=>[z])),_:1})])),default:y((()=>[(r(!0),p(V,null,f(e.questionVoList,((e,l)=>(r(),p(G,{key:e.questionId},{default:y((()=>[c(D,{gutter:20},{default:y((()=>[c("div",M,[c(b,{span:1.5},{default:y((()=>[0===e.questionType?(r(),p(Z,{key:0,style:{padding:"0 10px"},size:"mini"},{default:y((()=>[T])),_:1})):1===e.questionType?(r(),p(Z,{key:1,style:{padding:"0 10px"},size:"mini"},{default:y((()=>[j])),_:1})):2===e.questionType?(r(),p(Z,{key:2,style:{padding:"0 10px"},size:"mini",type:"danger"},{default:y((()=>[P])),_:1})):3===e.questionType?(r(),p(Z,{key:3,style:{padding:"0 10px"},size:"mini",type:"warning"},{default:y((()=>[B])),_:1})):4===e.questionType?(r(),p(Z,{key:4,style:{padding:"0 10px"},size:"mini",type:"success"},{default:y((()=>[R])),_:1})):5===e.questionType?(r(),p(Z,{key:5,style:{padding:"0 10px"},size:"mini",type:"info"},{default:y((()=>[N])),_:1})):m("",!0)])),_:2},1032,["span"]),c(b,{span:1.5},{default:y((()=>[c(Z,{type:"danger",effect:"plain",size:"mini"},{default:y((()=>[c("span",null,g(e.questionScore)+" 分",1)])),_:2},1024)])),_:2},1032,["span"]),c("div",A,[c(u,{style:{float:"right","margin-right":"20px"},type:"danger",icon:"el-icon-delete",size:"mini",circle:""}),c(u,{style:{float:"right","margin-right":"20px"},type:"primary",icon:"el-icon-edit",size:"mini",circle:""})])])])),_:2},1024),c(D,{gutter:20},{default:y((()=>[c(b,{span:24},{default:y((()=>[c("span",E,"第"+g(l+1)+"题 ",1),c("span",null,g(e.questionContent),1)])),_:2},1024)])),_:2},1024),(r(!0),p(V,null,f(e.optionList,(e=>(r(),p(D,{key:e.optionId,gutter:20},{default:y((()=>[c(b,{span:.5},{default:y((()=>[c(ee,{modelValue:e.isRight,"onUpdate:modelValue":l=>e.isRight=l,"true-label":1,"false-label":0,checked:1===e.isRight},null,8,["modelValue","onUpdate:modelValue","checked"])])),_:2},1032,["span"]),c(b,{span:23.5},{default:y((()=>[c("span",{class:1===e.isRight?"right-answer-content":"default-answer-content"},g(e.optionContent),3)])),_:2},1032,["span"])])),_:2},1024)))),128))])),_:2},1024)))),128)),c(D,{type:"flex",class:"row-bg",justify:"center"},{default:y((()=>[c(b,{span:11},{default:y((()=>[e.noMore?(r(),p(u,{key:0,class:"filter-item",disabled:"",type:"text",icon:"el-icon-error"},{default:y((()=>[F])),_:1})):(r(),p(u,{key:1,class:"filter-item",type:"text",icon:"el-icon-bottom",loading:e.loadingMore,onClick:l[20]||(l[20]=l=>e.loadMore())},{default:y((()=>[O])),_:1},8,["loading"])),c(u,{class:"filter-item",type:"text",icon:"el-icon-plus"},{default:y((()=>[Q])),_:1}),c(u,{class:"filter-item",type:"text",icon:"el-icon-plus"},{default:y((()=>[W])),_:1}),c(u,{class:"filter-item",type:"text",icon:"el-icon-back"},{default:y((()=>[$])),_:1})])),_:1})])),_:1})])),_:1},512),[[ae,e.questionLoading]])])),_:1},8,["model"]),[[ae,e.loading]])])}));b.render=D,b.__scopeId="data-v-5778097b";export default b;
