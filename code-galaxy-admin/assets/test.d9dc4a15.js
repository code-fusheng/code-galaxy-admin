import{a as e,s as t}from"./index.eb4e575a.js";import{d as o,p as s,g as a,r as l,o as n,b as r,e as d,h as i,t as u,w as m}from"./vendor.3e4d1919.js";const p={"Content-Type":"application/x-www-form-urlencoded"},c={username:"user-admin-server",password:"test"};var g=o({data:()=>({port:0,token:"",user:{},loginDto:{loginType:0,username:"code-fusheng",password:"123456"}}),methods:{testAxios(){e.get("/test-server/debug/getPort").then((e=>{console.log(e.data),this.port=e.data}))},login(){var o;(o=this.loginDto,e({headers:p,auth:c,url:"/auth-server/login",method:"post",params:o})).then((e=>{this.token=e.data.access_token,t.commit("setToken",this.token),console.log(t.getters.token),this.user=e.data.userInfo,t.commit("setUser",this.user),console.log(t.getters.user)}))}}});const f=m();s("data-v-f3c9e8b6");const h=i("登录"),k={class:"token-text"},v=i("获取用户信息");a();const b=f(((e,t,o,s,a,m)=>{const p=l("el-button"),c=l("el-input"),g=l("el-form-item"),b=l("el-form");return n(),r("div",null,[d(p,{type:"primary",onClick:t[1]||(t[1]=t=>e.testAxios())},{default:f((()=>[i("获取端口号："+u(e.port),1)])),_:1}),d(b,{inline:!0,"label-position":"left","label-width":"80px",model:e.loginDto},{default:f((()=>[d(g,{label:"用户名"},{default:f((()=>[d(c,{modelValue:e.loginDto.username,"onUpdate:modelValue":t[2]||(t[2]=t=>e.loginDto.username=t)},null,8,["modelValue"])])),_:1}),d(g,{label:"密码"},{default:f((()=>[d(c,{modelValue:e.loginDto.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.loginDto.password=t)},null,8,["modelValue"])])),_:1}),d(g,null,{default:f((()=>[d(p,{type:"primary",onClick:t[4]||(t[4]=t=>e.login())},{default:f((()=>[h])),_:1})])),_:1}),d("div",k,"token:"+u(e.token),1)])),_:1},8,["model"]),d(p,{type:"primary",onClick:t[5]||(t[5]=t=>e.info())},{default:f((()=>[v])),_:1}),d("div",null,u(e.user),1)])}));g.render=b,g.__scopeId="data-v-f3c9e8b6";export default g;
