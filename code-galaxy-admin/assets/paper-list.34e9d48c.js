import{s as e,b as l}from"./paper.dd68bea9.js";import{s as a}from"./index.eb4e575a.js";import{d as t,r as i,o,b as d,e as n,i as p,F as r,y as s,h as u,u as m,v as g,t as c,x as f}from"./vendor.3e4d1919.js";const b=t({data:()=>({ruleList:[],paper:{},rules:{paperName:[{required:!0,message:"试卷名称不能为空",tirgger:"blur"}],isEnabled:[{required:!0,message:"请选择试卷状态",trigger:"change"}]}}),mounted(){this.ruleList=a.getters.ruleList},methods:{onSubmit(){e(this.paper).then((e=>{this.$emit("closeAddDialog"),this.$emit("getPaperByPage")}))},close(){this.$emit("closeAddDialog")}}}),_=u("启用"),h=u("弃用"),y=u("提交"),P=u("取消");b.render=function(e,l,a,t,u,m){const g=i("el-input"),c=i("el-form-item"),f=i("el-col"),b=i("el-option"),w=i("el-select"),D=i("el-radio"),z=i("el-radio-group"),V=i("el-divider"),k=i("el-button"),C=i("el-row"),v=i("el-form");return o(),d("div",null,[n(v,{ref:"form",model:e.paper,rules:e.rules,"label-width":"80px",class:"demo-ruleForm"},{default:p((()=>[n(C,{gutter:20},{default:p((()=>[n(f,{span:24},{default:p((()=>[n(c,{label:"试卷名称",prop:"paperName"},{default:p((()=>[n(g,{modelValue:e.paper.paperName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.paper.paperName=l),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1})])),_:1}),n(f,{span:12},{default:p((()=>[n(c,{label:"试卷规则"},{default:p((()=>[n(w,{modelValue:e.paper.ruleId,"onUpdate:modelValue":l[2]||(l[2]=l=>e.paper.ruleId=l),placeholder:"请选择试卷规则",clearable:"",filterable:""},{default:p((()=>[(o(!0),d(r,null,s(e.ruleList,(e=>(o(),d(b,{key:e.ruleId,label:e.ruleName,value:e.ruleId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(f,{span:12},{default:p((()=>[n(c,{label:"试卷状态",prop:"isEnabled"},{default:p((()=>[n(z,{modelValue:e.paper.isEnabled,"onUpdate:modelValue":l[3]||(l[3]=l=>e.paper.isEnabled=l)},{default:p((()=>[n(D,{label:1},{default:p((()=>[_])),_:1}),n(D,{label:0},{default:p((()=>[h])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(V),n(f,{span:24},{default:p((()=>[n(k,{type:"primary",onClick:e.onSubmit,style:{float:"right","margin-left":"20px"},size:"mini"},{default:p((()=>[y])),_:1},8,["onClick"]),n(k,{onClick:e.close,type:"info",style:{float:"right"},size:"mini"},{default:p((()=>[P])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"])])};const w={};w.render=function(e,l){return o(),d("div",null," 更新试卷 ")};const D=t({components:{paperAdd:b,paperUpdate:w},data:()=>({page:{currentPage:1,pageSize:10,totalPage:0,totalCount:0,params:{},list:[],sortColumn:"created_time",sortMethod:"asc"},loading:!0,ids:[],single:!0,multiple:!0,loading:!0,selectPapers:[],addDialog:!1,updateDialog:!1}),created(){this.getPaperByPage()},methods:{getPaperByPage(){l(this.page).then((e=>{this.page=e.data,this.loading=!1}))},openAddDialog(){this.addDialog=!0},closeAddDialog(){this.addDialog=!1},closeUpdateDialog(){this.updateDialog=!1}}}),z=u("查询"),V=u("恢复"),k=u("新增"),C=u("修改"),v=u("删除"),x=u("启用"),U=u("弃用"),N=u("发布考试"),A=u("修改"),B=u("启用"),E=u("弃用"),I=u("删除");D.render=function(e,l,a,t,r,s){const u=i("el-input"),b=i("el-form-item"),_=i("el-button"),h=i("el-form"),y=i("el-col"),P=i("el-row"),w=i("el-table-column"),D=i("router-link"),j=i("el-tag"),G=i("el-table"),L=i("el-pagination"),S=i("paper-add"),$=i("el-dialog"),q=i("paper-update"),F=m("loading");return o(),d("div",null,[n(h,{inline:!0,model:e.page,class:"demo-form-inline",size:"mini"},{default:p((()=>[n(b,{label:"试卷名称"},{default:p((()=>[n(u,{modelValue:e.page.params.paperName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.page.params.paperName=l),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])])),_:1}),n(b,null,{default:p((()=>[n(_,{type:"primary",icon:"el-icon-search",sizi:"mini"},{default:p((()=>[z])),_:1}),n(_,{type:"success",icon:"el-icon-refresh-left",size:"mini"},{default:p((()=>[V])),_:1})])),_:1})])),_:1},8,["model"]),n(P,{gutter:10,style:{"margin-bottom":"8px"}},{default:p((()=>[n(y,{span:1.5},{default:p((()=>[n(_,{type:"primary",icon:"el-icon-plus",size:"mini",onClick:e.openAddDialog},{default:p((()=>[k])),_:1},8,["onClick"])])),_:1},8,["span"]),n(y,{span:1.5},{default:p((()=>[n(_,{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},{default:p((()=>[C])),_:1},8,["disabled"])])),_:1},8,["span"]),n(y,{span:1.5},{default:p((()=>[n(_,{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},{default:p((()=>[v])),_:1},8,["disabled"])])),_:1},8,["span"])])),_:1}),g(n(G,{data:e.page.list,border:"",fit:"",style:{width:"100%"},"header-cell-style":{background:"#eef1f6",color:"#606266"},"row-style":{cursor:"pointer"}},{default:p((()=>[n(w,{type:"selection",width:"50",align:"center"}),n(w,{prop:"paperId",label:"试卷编号",width:"200",align:"center"}),n(w,{label:"试卷名称",prop:"paperName","min-width":"200",align:"center","show-overflow-tooltip":""},{default:p((({row:e})=>[n(D,{to:"paperInfo/"+e.paperId,class:"link-type"},{default:p((()=>[n("span",null,c(e.paperName),1)])),_:2},1032,["to"])])),_:1}),n(w,{prop:"ruleName",label:"规则名称","min-width":"200",align:"center","show-overflow-tooltip":""}),n(w,{prop:"remark",label:"备注","min-width":"120",align:"center","show-overflow-tooltip":""}),n(w,{prop:"isEnable",label:"状态","min-width":"100",align:"center"},{default:p((({row:e})=>[1===e.isEnabled?(o(),d(j,{key:0},{default:p((()=>[x])),_:1})):(o(),d(j,{key:1,type:"info"},{default:p((()=>[U])),_:1}))])),_:1}),n(w,{label:"操作","min-width":"250",align:"center"},{default:p((({row:e})=>[n(_,{type:"text",icon:"el-icon-position",size:"mini"},{default:p((()=>[N])),_:1}),n(_,{type:"text",size:"mini",icon:"el-icon-edit"},{default:p((()=>[A])),_:1}),0===e.isEnabled?(o(),d(_,{key:0,type:"text",icon:"el-icon-check",size:"mini"},{default:p((()=>[B])),_:1})):f("",!0),1===e.isEnabled?(o(),d(_,{key:1,type:"text",icon:"el-icon-close",size:"mini"},{default:p((()=>[E])),_:1})):f("",!0),n(_,{type:"text",size:"mini",icon:"el-icon-delete"},{default:p((()=>[I])),_:1})])),_:1})])),_:1},8,["data"]),[[F,e.loading]]),n(L,{align:"center",class:"pagination","current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},null,8,["current-page","page-size","total"]),n($,{title:"添加试卷",modelValue:e.addDialog,"onUpdate:modelValue":l[2]||(l[2]=l=>e.addDialog=l)},{default:p((()=>[n(S,{onCloseAddDialog:e.closeAddDialog,onGetPaperByPage:e.getPaperByPage},null,8,["onCloseAddDialog","onGetPaperByPage"])])),_:1},8,["modelValue"]),n($,{title:"修改试卷",modelValue:e.updateDialog,"onUpdate:modelValue":l[3]||(l[3]=l=>e.updateDialog=l)},{default:p((()=>[n(q,{paper:e.paper,onCloseUpdateDialog:e.closeUpdateDialog,onGetPaperByPage:e.getPaperByPage},null,8,["paper","onCloseUpdateDialog","onGetPaperByPage"])])),_:1},8,["modelValue"])])};export default D;
